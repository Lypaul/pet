<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="http://mockjs.com/dist/mock.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
    <script>
        // ;(async () => {
        //     const {
        //         adminIds
        //     } = await axios.get('/test/getAdminId').then(res => res.data)

        //     const shop = Mock.mock({
        //         'shop|100': [{
        //             'name|1': ['爱心小屋', '宠猫之家', '爱宠生活', '狗狗小屋', '宠物之家', '喵星球', '汪星球', '暖暖小床',
        //                 '爱心小喵'
        //             ], // 名称
        //             address: '@city(true)', // 商品种类（主粮/零食/玩具/日常用品/药品...）
        //             telephone: /^1[3-9]\d{9}$/, // 价格
        //             desc: '@cparagraph(4)', // 商品描述
        //             images: ['@image', '@image', '@image', '@image', '@image', ],
        //             'adminId|1': adminIds
        //         }]
        //     }).shop //addgood  addmysever   addpet
        //     await axios.post('/test/addshop', {
        //         data: shop
        //     })

        //     const good = Mock.mock({
        //         'good|100': [{
        //             'name|1': [
        //                 '狗罐头', '肉干', '咬胶', '梳子', '指甲剪', '窝', '牵引带', '玩具', '衣服', '驱虫药',
        //                 '滴耳液', '洗眼液', '皮肤病药品'
        //             ],
        //             'pet|1': ['猫', '狗', '其他'],
        //             'classify|1': ['主粮', '零食', '玩具', '日常用品', '药品'], // 商品种类（主粮/零食/玩具/日常用品/药品...）
        //             'price|50-500': 0, // 价格
        //             'weight|20-50': 0, // 重量
        //             production: "@datetime('yyyy-MM-dd HH:mm:ss')", // 生产日期
        //             'shelfLife|6-24': 0, // 保质期
        //             producer: '@city(true)', // 产地
        //             images: ['@image', '@image', '@image', '@image', '@image',
        //                 '@image'
        //             ], // 商品图片（列表图/详情图...）
        //             desc: '@cparagraph(4)', // 商品描述
        //             'adminId|1': adminIds
        //         }]
        //     }).good
        //     await axios.post('/test/addgood', {
        //         data: good
        //     })

        //     const pet = Mock.mock({
        //         'pet|100': [{
        //             'name|1': [
        //                 '小贝', 'Angel', '虎虎', '雅虎', '混混', '小狼', '小虎', '李小熊', '大奔', '达达妹',
        //                 '咪妹', '麒麟', '谜底', 'KA', '波利', '彼利', '贝茜', '黑妮'
        //             ], // 名称
        //             'classify|1': ['狗', '猫', '龙猫', '仓鼠', '金鱼', '虾', '松鼠', '鹦鹉'], // 宠物品种
        //             'price|50-500': 0, // 价格
        //             'weight|20-50': 0, // 重量
        //             'age|1-10': 0, // 年龄
        //             images: ['@image', '@image', '@image', '@image', '@image',
        //                 '@image'
        //             ], // 宠物图片
        //             desc: '@cparagraph(4)', // 宠物描述
        //             'adminId|1': adminIds
        //         }]
        //     }).pet
        //     await axios.post('/test/addpet', {
        //         data: pet
        //     })

        //     const mysever = Mock.mock({
        //         'mysever|100': [{
        //             name: '宠物服务', // 名称
        //             'classify|1': ['洗澡', '游泳', '修毛', '驱虫', '美容'], // 服务种类（洗澡/游泳/修毛/驱虫...）
        //             'pet|1': ['全部', '猫', '狗', '其他'], // 适用宠物（全部/猫/狗/其他）
        //             'price|50-500': 0, // 服务价格
        //             desc: '@cparagraph(4)', // 服务描述
        //             images: ['@image', '@image', '@image', '@image', '@image', '@image'],
        //             'adminId|1': adminIds
        //         }]
        //     }).mysever
        //     await axios.post('/test/addmysever', {
        //         data: mysever
        //     })
        // })();
        // const users = Mock.mock({
        //     'users|50': [{
        //         username: /\w{4,6}/, // 用户名
        //         pwd: /\w{5}/, // 密码
        //         name: '@cname', // 真实姓名
        //         phone: /1[3-9]\d{9}/, // 联系电话
        //         image: '@image' // 用户头像
        //     }]
        // }).users
        // axios.post('/test/addusers', {users}).then(res => {console.log(res.data)})

        // getShopId  getPetId  getGoodId  getMyseverId   
        // addpetmid: allpetmids  addgoodmid: allgoodmids  addmysevermid: allmysevermids

        // (async () => {
        //     const {
        //         adminIds
        //     } = await axios.get('/test/getAdminId').then(res => res.data)
        //     const len = adminIds.length;
        //     const allgoodmids = []
        //     for (let i = 0; i < len; i++) {
        //         const { shopIds } = await axios.get('/test/getShopId', { params: { adminId: adminIds[i] } }).then(res => res.data)
        //         const { goodIds } = await axios.get('/test/getgoodId', { params: { adminId: adminIds[i] } }).then(res => res.data)
        //         const shoplen = shopIds.length
        //         goodIds.forEach(goodId => {
        //             _.sampleSize(shopIds, _.random(0, shoplen)).forEach(shopId => {
        //                 allgoodmids.push({ goodId, shopId })
        //             })
        //         });
        //     }
        //     const res = await axios.post('/test/addgoodmid', { allgoodmids }).then(res => res.data)
        //     console.log(res);
        // })();
        // 添加中间表  根据adminId 获取到门店ID，和 宠物ID




        // (async () => {
        //     const { userIds } = await axios.get('/test/getUserId').then(res => res.data)
        //     const addrs = Mock.mock({
        //         'addrs|200': [
        //             {
        //                 name: '@cname',      // 收件人名称
        //                 phone: /^1[3-9]\d{9}/,     // 收件人联系电话
        //                 address: '@county(true)',    // 收件人地址
        //                 'userId|1': userIds,
        //             }
        //         ]
        //     }).addrs
        //     axios.post('/test/addAddr', { addrs })
        // })()


        // axios.post('/test/addusers', {
        //     users: [
        //         {
        //             username: 'dxy',   // 用户名
        //             pwd: '123',        // 密码
        //             name: '董新宇',       // 真实姓名
        //             phone: '17761236423',      // 联系电话
        //             image: 'ssss'       // 用户头像
        //         },
        //         {
        //             username: 'dxx',   // 用户名
        //             pwd: '124',        // 密码
        //             name: '董新宇2',       // 真实姓名
        //             phone: '17761236423',      // 联系电话
        //             image: 'xxxx'       // 用户头像
        //         },
        //     ]
        // }).then(res => {
        //     console.log(res.data);
        // })

        // adminIds
        // getAddrId  getShopId  getPetId  getGoodId  getMyseverId  getUserId
        // addPetCar  addMyseverCar   addGoodCar   petCars  myseverCars  goodCars
        // getGoodIdByShopId   getMyseverIdByShopId   getPetIdByShopId
        // (async () => {
        //     const { userIds } = await axios.get('/test/getUserId').then(res => res.data)
        //     const { adminIds } = await axios.get('/test/getAdminId').then(res => res.data)
        //     const first = Mock.mock({
        //         'first|300': [
        //             {
        //                 'userId|1': userIds,
        //                 'adminId|1': adminIds,
        //             }
        //         ]
        //     }).first
        //     for (let i = 0; i < first.length; i++) {
        //         const { shopIds } = await axios.get('/test/getShopId', { params: { adminId: first[i].adminId } }).then(res => res.data)
        //         const { addrIds } = await axios.get('/test/getAddrId', { params: { userId: first[i].userId } }).then(res => res.data)
        //         const shopId = _.sample(shopIds)
        //         const addrId = _.sample(addrIds)
        //         Object.assign(first[i], { shopId, addrId })
        //         const { goodIds } = await axios.get('/test/getGoodIdByShopId', { params: { shopId } }).then(res => res.data)
        //         Object.assign(first[i], { goodId: _.sample(goodIds) })
        //     }
        //     const arr = first.filter(item => item.goodId)
        //     const data = await axios.post('/test/addGoodCar', { goodCars: arr }).then(res => res.data)
        //     console.log(arr);
        // })()
        // 添加订单














        // axios.get('/order/get', {
        //     params: {
        //         page: 1,
        //         limit: 20,
        //         type: 'pet',
        //         dependQuery: { userId: '5f00498da059db13a0206754' }
        //     }
        // }).then(res => {
        //     console.log(res.data);
        // })







        // axios.post('/test/testshop', { data: shop })
        // axios.post('/test/testgood', { data: good })
        // axios.post('/test/testmysever', { data: mysever })
        // axios.post('/test/testpet', { data: pet })
    </script>
</body>

</html>